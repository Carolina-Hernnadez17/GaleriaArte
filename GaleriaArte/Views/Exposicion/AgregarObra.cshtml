
@model GaleriaArte.Models.AgregarObraViewModel

@{
    ViewData["Title"] = "Agregar Obras a la Exposición";
}

<h2>Agregar Obras a la Exposición</h2>

@if (!string.IsNullOrEmpty(ViewBag.Error))
{
    <div class="alert alert-danger">@ViewBag.Error</div>
}

<form method="post" action="@Url.Action("GuardarObra", "Exposicion")">
    <input type="hidden" name="exposicionId" value="@ViewBag.ExposicionId" />

    <label for="obraId">Selecciona una Obra:</label>
    <select name="obraId" class="form-control">
        <option value="">Seleccione una obra</option>
        @if (ViewBag.Obras != null && ViewBag.Obras.Count > 0)
        {
            @foreach (var obra in ViewBag.Obras)
            {
                <option value="@obra.id_obra">@obra.titulo</option>
            }
        }
    </select>

    <button type="submit" class="btn btn-primary mt-2">Agregar Obra</button>
</form>

<h3 class="mt-4">Obras en esta Exposición</h3>
@if (ViewBag.ObrasEnExposicion != null && ViewBag.ObrasEnExposicion.Count > 0)
{
    <table class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Título</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var obra in ViewBag.ObrasEnExposicion)
            {
                <tr>
                    <td>@obra.id_obra</td>
                    <td>@obra.titulo</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No hay obras en esta exposición aún.</p>
}

